server:
  port: 9092

# Metrics configuration for Spring Actuator and also prometheus, it's the same for all profiles
management:
  endpoints:
    web:
      exposure:
        include: info, health, metrics, prometheus
  metrics:
    export:
      atlas:
        enabled: false
# Remember that the name of the application has to be the same name of the registered service in the service discovery tool
spring:
  profiles:
    active: "dev"
  application:
    name: api-entry

---

spring:
  profiles: dev
  datasource:
    driverClassName: oracle.jdbc.driver.OracleDriver
    url: jdbc:oracle:thin:@128.21.30.20:1521:ajsdb
    username: dev
    password: linkdev
  zipkin:
    baseUrl: http://128.21.33.45:30411


eureka:
  instance:
    # Leave prefer ip address to allow the gateway inside the kubernetes cluster to find this service by it's pod ip
    preferIpAddress: true
    # The hostname of the service, to register the pod and turn it easier for the gateway to find it
    # For deploying eureka clients in Kubernetes you need to set the hostname as the same name of the service
    hostname: api-entry
  client:
    enabled: false
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      defaultZone: http://localhost:8080/eureka





---

spring:
  profiles: uatprod
  datasource:
    driverClassName: oracle.jdbc.driver.OracleDriver
    url: jdbc:oracle:thin:@128.21.30.20:1521:ajsdb
    username: dev
    password: linkdev
  zipkin:
    baseUrl: http://128.21.33.45:30411

eureka:
  instance:
    preferIpAddress: true
    hostname: api-entry
  client:
    enabled: true
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      defaultZone: http://eureka-0.eureka.nebula.svc.cluster.local:8080/eureka,http://eureka-1.eureka.nebula.svc.cluster.local:8080/eureka



---

spring:
  profiles: prod
eureka:
  instance:
    preferIpAddress: true
    hostname: api-entry
  client:
    enabled: true
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      defaultZone: http://eureka-0.eureka.nebula.svc.cluster.local:8080/eureka,http://eureka-1.eureka.nebula.svc.cluster.local:8080/eureka

