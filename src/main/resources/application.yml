server:
  port: 9092

# Metrics configuration for Spring Actuator and also prometheus, it's the same for all profiles
management:
  endpoints:
    web:
      exposure:
        include: info, health, metrics, prometheus
  metrics:
    export:
      atlas:
        enabled: false
# Remember that the name of the application has to be the same name of the registered service in the service discovery tool
spring:
  profiles:
    active: "dev"
  application:
    name: api-vega

---

spring:
  main:
   banner-mode : off
  profiles: dev
  logging:
    pattern:
      console: "%clr(%d{yyyy-MM-dd HH:mm:ss}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr([${springAppName:-},%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]){yellow} %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}"
  datasource:
    driverClassName: oracle.jdbc.driver.OracleDriver
    url: jdbc:oracle:thin:@128.21.30.20:1521:ajsdb
    username: dev
    password: linkdev
  zipkin:
    baseUrl: http://128.21.33.45:30411

logging:
  level:
    com.app.mapper.JnBankMapper: DEBUG

eureka:
  instance:
    # Leave prefer ip address to allow the gateway inside the kubernetes cluster to find this service by it's pod ip
    # The hostname of the service, to register the pod and turn it easier for the gateway to find it
    # For deploying eureka clients in Kubernetes you need to set the hostname as the same name of the service
    hostname: api-vega
  client:
    enabled: false
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      defaultZone: http://localhost:8080/eureka

jmx:
 rmi:
  port: 1099

server:
  servlet:
   contextPath: /policy/api/json

---
spring:
  main:
   banner-mode : off
  profiles: uatprod
  logging:
   pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr([${springAppName:-},%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]){yellow} %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}"
  datasource:
    driverClassName: oracle.jdbc.driver.OracleDriver
    url: jdbc:oracle:thin:@128.21.30.20:1521:ajsdb
    username: dev
    password: linkdev
  zipkin:
    baseUrl: http://notyfyd-zipkin.default.svc.cluster.local:9411

eureka:
  instance:
    preferIpAddress: true
    hostname: api-vega
  client:
    enabled: true
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      #defaultZone: http://eureka-0.eureka.nebula.svc.cluster.local:8080/eureka,http://eureka-1.eureka.nebula.svc.cluster.local:8080/eureka
      defaultZone: http://eureka-0.eureka.cosmos.svc.cluster.local:8080/eureka,http://eureka-1.eureka.cosmos.svc.cluster.local:8080/eureka,http://eureka-2.eureka.cosmos.svc.cluster.local:8080/eureka,http://eureka-3.eureka.cosmos.svc.cluster.local:8080/eureka

jmx:
 rmi:
  port: 1099

logging:
  level:
    com.app.mapper.JnBankMapper: DEBUG
    com.app.mapper.VegaMapper: DEBUG

server:
  servlet:
   contextPath: /policy/api/json

---

spring:
  profiles: prod
eureka:
  instance:
    preferIpAddress: true
    hostname: api-vega
  client:
    enabled: true
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      #defaultZone: http://eureka-0.eureka.nebula.svc.cluster.local:8080/eureka,http://eureka-1.eureka.nebula.svc.cluster.local:8080/eureka
      defaultZone: http://eureka-0.eureka.cosmos.svc.cluster.local:8080/eureka,http://eureka-1.eureka.cosmos.svc.cluster.local:8080/eureka,http://eureka-2.eureka.cosmos.svc.cluster.local:8080/eureka,http://eureka-3.eureka.cosmos.svc.cluster.local:8080/eureka
